# Ollamify - ะะพะบะฐะปัะฝะฐั RAG ะฟะปะฐััะพัะผะฐ ั Voice Assistant

Ollamify - ััะพ ะฟะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะฐั ะปะพะบะฐะปัะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ัะฐะฑะพัั ั ะดะพะบัะผะตะฝัะฐะผะธ, ะธัะฟะพะปัะทัััะฐั ัะตัะฝะพะปะพะณะธะธ RAG (Retrieval-Augmented Generation) ะธ ะธะฝัะตะณัะธัะพะฒะฐะฝะฝัะน ะณะพะปะพัะพะฒะพะน ะฟะพะผะพัะฝะธะบ.

## ๐ ะัััััะน ััะฐัั

### CPU ัะตะถะธะผ (ะฟะพ ัะผะพะปัะฐะฝะธั)
```bash
docker-compose up -d
```

### GPU ัะตะถะธะผ (ะดะปั NVIDIA GPU)
```bash
docker-compose -f docker-compose.gpu.yml up -d
```

**ะะฐะทะปะธัะธั ัะตะถะธะผะพะฒ:**
- **CPU**: ะะฐะทะพะฒัะน ัะตะถะธะผ, ะฒัะต ะผะพะดะตะปะธ ัะฐะฑะพัะฐัั ะฝะฐ CPU
- **GPU**: ะฃัะบะพัะตะฝะฝัะน ัะตะถะธะผ ั ะฟะพะดะดะตัะถะบะพะน NVIDIA GPU ะดะปั TTS, Ollama, Frida ะธ Reranker

## ๐ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Web Interface โ    โ   Voice Assistantโ    โ   API Gateway   โ
โ   (www3:80)     โ    โ   (TTS/STT)     โ    โ   (zeus:80)     โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Auth Service  โ    โ   Vector DB     โ    โ   PostgreSQL    โ
โ   (auth:80)     โ    โ   (qdrant:6333) โ    โ   (db:5432)     โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                 โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Ollama LLM    โ    โ   Reranker      โ    โ   TTS Service   โ
โ   (ollama:11434)โ    โ   (reranker:8001โ    โ   (tts:8003)    โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โโโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโ
                                 โ
                    โโโโโโโโโโโโโโโโโโโ
                    โ   Frida Service โ
                    โ   (frida:8002)  โ
                    โโโโโโโโโโโโโโโโโโโ
```

## ๐๏ธ Voice Assistant

ะกะธััะตะผะฐ ะฒะบะปััะฐะตั ะฟะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝัะน ะณะพะปะพัะพะฒะพะน ะฟะพะผะพัะฝะธะบ ั ะฟะพะดะดะตัะถะบะพะน:

### TTS (Text-to-Speech) - Silero TTS
- **ะะพะดะตะปั**: Silero TTS v3.1 
- **ะะธัะตะฝะทะธั**: GPL 3.0 (ะฝะตะบะพะผะผะตััะตัะบะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- **ะฏะทัะบ**: ะัััะบะธะน
- **ะะพะปะพัะฐ**: 4 ะฒััะพะบะพะบะฐัะตััะฒะตะฝะฝัั ััััะบะธั ะณะพะปะพัะฐ
  - `aidar` - ะผัะถัะบะพะน ะณะพะปะพั ะะนะดะฐั
  - `baya` - ะถะตะฝัะบะธะน ะณะพะปะพั ะะฐั  
  - `kseniya` - ะถะตะฝัะบะธะน ะณะพะปะพั ะัะตะฝะธั
  - `xenia` - ะถะตะฝัะบะธะน ะณะพะปะพั ะัะตะฝะธั 2

### ะคัะฝะบัะธะธ Voice Assistant
- โ **ะกะธะฝัะตะท ัะตัะธ (TTS)** - ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั
- ๐ **ะะฐัะฟะพะทะฝะฐะฒะฐะฝะธะต ัะตัะธ (STT)** - ะฒ ัะฐะทัะฐะฑะพัะบะต
- ๐ **ะะปะพะฝะธัะพะฒะฐะฝะธะต ะณะพะปะพัะฐ** - ะฟะปะฐะฝะธััะตััั

### ะะพัััะฟ ะบ Voice Assistant
1. ะัะบัะพะนัะต http://localhost ะฒ ะฑัะฐัะทะตัะต
2. ะะพะนะดะธัะต ะฒ ัะธััะตะผั (admin@example.com / admin123)
3. ะะตัะตะนะดะธัะต ะฒ ัะฐะทะดะตะป "Voice Assistant"

## ๐ ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### ะัะฝะพะฒะฝัะต ัะตัะฒะธัั
- **Frontend**: Vanilla JS + Material Design Icons
- **Backend API**: Node.js + Express
- **ะััะตะฝัะธัะธะบะฐัะธั**: FastAPI + JWT
- **ะะฐะทะฐ ะดะฐะฝะฝัั**: PostgreSQL + pgvector
- **ะะตะบัะพัะฝะฐั ะะ**: Qdrant
- **ะฏะทัะบะพะฒะฐั ะผะพะดะตะปั**: Ollama (ะปะพะบะฐะปัะฝะพ)
- **ะะตะฑ-ัะตัะฒะตั**: Nginx

### AI/ML ะบะพะผะฟะพะฝะตะฝัั
- **TTS**: Silero TTS v3.1 (ััััะบะธะต ะณะพะปะพัะฐ)
- **Reranker**: ะะพะดะตะปะธ ะดะปั ัะปัััะตะฝะธั ะฟะพะธัะบะฐ
- **Frida**: ะะพะฟะพะปะฝะธัะตะปัะฝัะต AI ััะฝะบัะธะธ
- **Embedding**: ะะพะบะฐะปัะฝัะต ะฒะตะบัะพัะฝัะต ะฟัะตะดััะฐะฒะปะตะฝะธั

## ๐ ะกะธััะตะผะฝัะต ััะตะฑะพะฒะฐะฝะธั

### ะะธะฝะธะผะฐะปัะฝัะต ััะตะฑะพะฒะฐะฝะธั (CPU ัะตะถะธะผ)
- **RAM**: 8 GB
- **ะะธัะบ**: 20 GB ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ
- **CPU**: 4 ัะดัะฐ
- **Docker**: 20.10+ ะธ Docker Compose v2

### ะะตะบะพะผะตะฝะดัะตะผัะต ััะตะฑะพะฒะฐะฝะธั (GPU ัะตะถะธะผ)  
- **RAM**: 16 GB
- **ะะธัะบ**: 50 GB ัะฒะพะฑะพะดะฝะพะณะพ ะผะตััะฐ
- **GPU**: NVIDIA ั 8 GB+ VRAM
- **CUDA**: 11.8+
- **Docker**: ั ะฟะพะดะดะตัะถะบะพะน NVIDIA Container Toolkit

## ๐ง ะะฐัััะพะนะบะฐ

### ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
ะกะบะพะฟะธััะนัะต `.env_example` ะฒ `.env` ะธ ะฝะฐัััะพะนัะต:

```bash
cp .env_example .env
```

ะัะฝะพะฒะฝัะต ะฝะฐัััะพะนะบะธ:
```env
# Database
POSTGRES_DB=ollamify
POSTGRES_USER=ollamify_user
POSTGRES_PASSWORD=your_secure_password

# JWT
JWT_SECRET=your_jwt_secret_key

# Models
# Embedding model is now configured per project in the web interface
RERANKER_MODEL=ms-marco-MiniLM-L-12-v2
OPENROUTER_MODEL=anthropic/claude-3.5-sonnet
```

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะะฐะทะพะฒัะต ััะฝะบัะธะธ
1. **ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะพะฒ**: ะะพะดะดะตัะถะบะฐ PDF, TXT, DOCX
2. **ะะพะธัะบ**: ะะตะบัะพัะฝัะน ะธ ะณะธะฑัะธะดะฝัะน ะฟะพะธัะบ
3. **ะงะฐั ั ะดะพะบัะผะตะฝัะฐะผะธ**: RAG ั ะปะพะบะฐะปัะฝัะผะธ LLM
4. **ะะพะปะพัะพะฒะพะน ะธะฝัะตััะตะนั**: TTS ัะธะฝัะตะท ัะตัะธ

### API Endpoints

#### TTS API
```bash
# ะกะฟะธัะพะบ ะณะพะปะพัะพะฒ
GET /api/tts/voices

# ะกะธะฝัะตะท ัะตัะธ
POST /api/tts/synthesize
{
  "text": "ะัะธะฒะตั! ะญัะพ ัะตัั ัะธััะตะผั ัะธะฝัะตะทะฐ ัะตัะธ.",
  "voice": "aidar",
  "speed": 1.0,
  "sample_rate": 24000
}
```

#### ะะพะบัะผะตะฝัั API
```bash
# ะะฐะณััะทะบะฐ ะดะพะบัะผะตะฝัะฐ
POST /api/documents/upload

# ะะพะธัะบ ะฒ ะดะพะบัะผะตะฝัะฐั
POST /api/documents/search
{
  "query": "ะฒะฐั ะฟะพะธัะบะพะฒัะน ะทะฐะฟัะพั",
  "limit": 10
}
```

#### AI Chat API
```bash
# ะงะฐั ั ะดะพะบัะผะตะฝัะฐะผะธ
POST /api/ai/chat
{
  "message": "ะะฐััะบะฐะถะธ ะพ ัะพะดะตัะถะฐะฝะธะธ ะดะพะบัะผะตะฝัะพะฒ",
  "context": "ะดะพะบัะผะตะฝัั_ะบะพะฝัะตะบัั"
}
```

## ๐ ะะพะฝะธัะพัะธะฝะณ ะธ ะพัะปะฐะดะบะฐ

### ะัะพะฒะตัะบะฐ ััะฐัััะฐ ัะตัะฒะธัะพะฒ
```bash
# ะกัะฐััั ะฒัะตั ะบะพะฝัะตะนะฝะตัะพะฒ
docker-compose ps

# ะะพะณะธ ะบะพะฝะบัะตัะฝะพะณะพ ัะตัะฒะธัะฐ
docker-compose logs tts
docker-compose logs zeus
docker-compose logs auth
```

### Health ะฟัะพะฒะตัะบะธ
- **TTS**: http://localhost:8003/health
- **Reranker**: http://localhost:8001/health
- **Frida**: http://localhost:8002/health
- **Vector DB**: http://localhost:6333/health

### ะะตะฑ-ะธะฝัะตััะตะนัั
- **ะัะฝะพะฒะฝะพะต ะฟัะธะปะพะถะตะฝะธะต**: http://localhost
- **Qdrant UI**: http://localhost:6333/dashboard
- **API ะดะพะบัะผะตะฝัะฐัะธั**: http://localhost/api-docs

## ๐จ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะงะฐัััะต ะฟัะพะฑะปะตะผั

#### TTS ะฝะต ัะฐะฑะพัะฐะตั
   ```bash
# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
docker logs tts

# ะะตัะตะทะฐะฟััะบ TTS
docker-compose restart tts
   ```

#### 404 ะพัะธะฑะบะธ API
   ```bash
# ะัะพะฒะตัะบะฐ Zeus ัะตัะฒะธัะฐ
docker logs zeus

# ะะตัะตะทะฐะฟััะบ backend
docker-compose restart zeus
```

#### ะัะพะฑะปะตะผั ั GPU
```bash
# ะัะพะฒะตัะบะฐ NVIDIA Docker
docker run --rm --gpus all nvidia/cuda:11.8-base-ubuntu22.04 nvidia-smi

# GPU ัะตะถะธะผ
docker-compose -f docker-compose.gpu.yml up -d
```

### ะะพะปะฝะฐั ะฟะตัะตัััะฐะฝะพะฒะบะฐ
```bash
# ะััะฐะฝะพะฒะบะฐ ะธ ัะดะฐะปะตะฝะธะต
docker-compose down -v

# ะฃะดะฐะปะตะฝะธะต ะพะฑัะฐะทะพะฒ
docker-compose down --rmi all

# ะงะธัััะน ะทะฐะฟััะบ
docker-compose up -d
```

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

- [TTS Testing Guide](TTS_TESTING_GUIDE.md) - ะะพะดัะพะฑะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต ะณะพะปะพัะพะฒะพะณะพ ะธะฝัะตััะตะนัะฐ
- [TTS Implementation Report](TTS_IMPLEMENTATION_REPORT.md) - ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ TTS ะธะฝัะตะณัะฐัะธะธ

## ๐ค ะะบะปะฐะด ะฒ ะฟัะพะตะบั

1. Fork ะฟัะพะตะบัะฐ
2. ะกะพะทะดะฐะนัะต feature branch (`git checkout -b feature/amazing-feature`)
3. Commit ะธะทะผะตะฝะตะฝะธั (`git commit -m 'Add amazing feature'`)
4. Push ะฒ branch (`git push origin feature/amazing-feature`)
5. ะัะบัะพะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

ะัะพะตะบั ะธัะฟะพะปัะทัะตั ัะฐะทะปะธัะฝัะต ะปะธัะตะฝะทะธะธ ะดะปั ัะฐะทะฝัั ะบะพะผะฟะพะฝะตะฝัะพะฒ:
- **ะัะฝะพะฒะฝะพะน ะบะพะด**: MIT License
- **Silero TTS**: GPL 3.0 (ะฝะตะบะพะผะผะตััะตัะบะพะต ะธัะฟะพะปัะทะพะฒะฐะฝะธะต)
- **ะััะณะธะต ะผะพะดะตะปะธ**: ะกะผ. ัะพะพัะฒะตัััะฒัััะธะต ัะตะฟะพะทะธัะพัะธะธ

## ๐ฎ ะะปะฐะฝั ัะฐะทะฒะธัะธั

- [ ] ะะฝัะตะณัะฐัะธั STT (Speech-to-Text)
- [ ] ะะปะพะฝะธัะพะฒะฐะฝะธะต ะณะพะปะพัะพะฒ
- [ ] ะะพะดะดะตัะถะบะฐ ะฑะพะปััะต ัะทัะบะพะฒ ะดะปั TTS
- [ ] ะะพะฑะธะปัะฝะพะต ะฟัะธะปะพะถะตะฝะธะต
- [ ] ะะฝัะตะณัะฐัะธั ั ะฒะฝะตัะฝะธะผะธ LLM API
- [ ] ะะฐััะธัะตะฝะฝะฐั ะฐะฝะฐะปะธัะธะบะฐ

---

**Ollamify** - ะปะพะบะฐะปัะฝะฐั, ะฟัะธะฒะฐัะฝะฐั ะธ ะผะพัะฝะฐั ะฟะปะฐััะพัะผะฐ ะดะปั ัะฐะฑะพัั ั ะดะพะบัะผะตะฝัะฐะผะธ ะธ ะณะพะปะพัะพะฒัะผ ะธะฝัะตััะตะนัะพะผ. 